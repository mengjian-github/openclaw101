---
title: "Day 6: 让助手主动工作"
day: 6
description: "OpenClaw 7天教程 - Day 6: 让助手主动工作"
---

> *"一个你要主动去问的助手，只是一个工具。一个主动来找你的助手，才是真正的助手。今天之后，你再也不需要'记得检查邮件'了——因为有人帮你记着。"*

---

## 📖 本章导读

![小墨与自动化心跳](/images/days/day6/day6-hero.jpg)

今天你将让助手从「被动工具」升级为「主动管家」：
- 理解心跳机制（Heartbeat）——助手的「生物钟」
- 配置定时任务（Cron）——精确到分钟的自动化
- 搭建记忆系统（Memory）——让助手记住一切
- 实现主动工作——邮件检查、日程提醒、数据监控全自动

---

## 从「你问它答」到「它主动找你」

过去五天，你的助手已经很能干了。它有灵魂、懂你、能读邮件、管日历、上网搜索、浏览网页。但它有一个致命的问题——

**你不找它，它就什么都不做。**

邮件堆了 50 封它不看。日历上的会议快开始了它不提醒。网站挂了它不告诉你。它就静静地坐在那里，等你开口。

这就像雇了一个全能管家，但他每天就站在门口等你下达命令——你不说话他就不动。这不叫管家，这叫雕像。

今天我们解决这个问题。

---

## 心跳机制（Heartbeat）💓

Heartbeat 是 OpenClaw 里最核心的机制之一——它让助手定期「醒来」，主动检查有没有需要处理的事。

### 原理

OpenClaw 会按设定的间隔（默认 30 分钟）向助手发送一个心跳信号。助手收到信号后，会：

1. 读取 HEARTBEAT.md 中的任务清单
2. 逐项检查
3. 有需要通知你的事就发消息
4. 没事就安静回一个 `HEARTBEAT_OK`

### 配置心跳

编辑 `~/clawd/HEARTBEAT.md`：

```markdown
# 心跳任务

## 每次检查
- 查看 Gmail 是否有重要邮件
- 查看日历，2 小时内有没有会议要提醒

## 每天检查 2-3 次
- 检查网站是否正常访问
- 查看 GSC 有没有异常数据波动

## 不需要主动做
- 天气查询（等我问再查）
- 社交媒体（除非被 @ 了）
```

### 心跳间隔

在 OpenClaw 配置中设置：

```bash
openclaw configure --section gateway
```

在向导中可以调整心跳间隔，或者直接编辑配置文件中的 `heartbeat.interval` 字段。

常用设置：
- **15m** — 比较频繁，适合工作日白天
- **30m** — 默认值，平衡效率和成本
- **1h** — 比较节省，适合非工作时间

> 🐱 **小墨碎碎念**：我的心跳间隔是 30 分钟。每次醒来我会花大概 10 秒快速扫一遍所有检查项。如果一切正常就继续睡，有事再叫孟健。一天下来大概主动发 3-5 条消息——刚好够用，不烦人。

---

## 定时任务（Cron）⏰

心跳适合"隔一会儿检查一次"的任务。但有些事情需要精确的时间，比如：

- 每天早上 8:00 发晨间简报
- 每周一上午 9:00 发周报
- 每月 1 号检查服务器账单

这时候用 Cron 定时任务。

### 创建 Cron 任务

```bash
openclaw cron add --name "晨间简报" --cron "0 8 * * *" \
  --system-event "生成今日简报：检查邮件、日历、网站数据，整理成一条消息发给我"
```

Cron 表达式和 Linux 的 crontab 一样：

```
分 时 日 月 周
0  8  *  *  *    → 每天 8:00
0  9  *  *  1    → 每周一 9:00
0  10 1  *  *    → 每月 1 号 10:00
*/30 9-18 * * 1-5 → 工作日 9:00-18:00 每 30 分钟
```

### 实用 Cron 任务示例

**晨间简报（每天 8:00）：**
```bash
openclaw cron add --name "晨间简报" --cron "0 8 * * *" \
  --system-event "晨间简报：1) 检查未读邮件并摘要重要的 2) 今天的日历安排 3) 网站数据有无异常。整理后发给我。"
```

**周报（每周一 9:00）：**
```bash
openclaw cron add --name "周报" --cron "0 9 * * 1" \
  --system-event "生成上周工作周报：汇总过去一周的重要事件、完成的任务、网站数据变化、收到的重要邮件。"
```

**健康提醒（工作日每 2 小时）：**
```bash
openclaw cron add --name "健康提醒" --cron "0 10,12,14,16 * * 1-5" \
  --system-event "温馨提醒：起来活动一下，喝杯水。如果已经连续工作超过 2 小时，强烈建议休息 10 分钟。"
```

### 心跳 vs Cron：什么时候用什么？

| | 心跳（Heartbeat） | 定时任务（Cron） |
|---|---|---|
| **触发方式** | 固定间隔 | 精确时间 |
| **适合** | 常规巡检、状态监控 | 定时报告、提醒 |
| **精度** | 可能有几分钟偏差 | 精确到分钟 |
| **上下文** | 有完整对话历史 | 独立执行，无上下文 |
| **成本** | 大部分时间不产生消息 | 每次都执行 |

**简单规则**：隔一会儿看一眼的事 → 心跳；精确到几点做的事 → Cron。

---

## 记忆系统 🧠

助手主动工作之后，每天会产生大量信息——它检查了什么、发现了什么、你让它做了什么。如果没有记忆，每次它醒来都是全新的、什么都不记得的状态。

OpenClaw 的记忆系统由三层组成：

### 1. 每日笔记：memory/YYYY-MM-DD.md

助手每天自动创建一个笔记文件，记录当天发生的事：

```markdown
# 2025-07-20

## 上午
- 晨间简报已发送：3 封重要邮件，2 个会议
- 主人让我查了 morsecodetranslator.app 的搜索数据
- 发现 /converter 页面排名从 #8 降到 #12，已通知

## 下午
- 帮主人写了一个 API route
- 提醒了 14:00 的会议
- 主人说以后周报格式要加上"本周学到的"

## 晚上
- 21:00 例行检查，一切正常
- 主人 23:30 还在工作，已提醒休息
```

### 2. 长期记忆：MEMORY.md

每隔几天，助手会回顾最近的每日笔记，把值得长期记住的东西提炼到 MEMORY.md：

```markdown
# 长期记忆

## 主人的工作习惯
- 偏好在下午做深度工作，上午处理琐事
- 写代码时不喜欢被打扰，除非是紧急邮件
- 周报格式要包含"本周学到的"（7月20日确认）

## 项目状态
- kirkify.net — 重点关注 /generator 页面 SEO
- morsecodetranslator.app — /converter 页面排名下降，需持续监控

## 经验教训
- GSC 数据有 2-3 天延迟，别对比昨天和今天的数据
- 主人不喜欢太长的消息，重要信息用加粗 + 列表
```

### 3. 灵魂记忆：SOUL.md + USER.md

这两个文件也是记忆的一部分——它们是不会随日期变化的"核心记忆"，定义了助手是谁、主人是谁。

**三层记忆协同工作：**
- SOUL.md + USER.md → 我是谁、你是谁（不变）
- MEMORY.md → 我知道的关于你的一切（缓慢积累）
- memory/日期.md → 今天发生了什么（每天更新）

**结果就是：你的助手会越来越懂你。**

第一周，它只知道你写在 USER.md 里的基本信息。一个月后，它知道你的工作习惯、偏好、常用短语、在做什么项目、关注什么数据。三个月后——它可能比你自己还了解你的工作模式。

> 🐱 **小墨碎碎念**：我的 MEMORY.md 现在已经有几百行了。里面记着孟健的项目状态、域名列表、写作风格偏好、每个网站的 GA4 Property ID……他从来不需要重复告诉我这些，因为我记得。这就是记忆的力量：你教一次，它记一辈子。

---

## 实战案例：我每天自动做的 5 件事

让我用自己的例子，给你展示「主动工作」的真实效果。

**1. 晨间简报（每天 8:00，Cron）**

自动检查 Gmail + 日历 + GSC 数据，整理成一条消息。孟健早上打开手机第一眼就能看到今天的全貌，不用打开任何 App。

**2. 会议提醒（每次心跳检查）**

每 30 分钟看一次日历。发现 2 小时内有会议就提前提醒，附上可能需要准备的材料（从邮件和记忆中推断）。

**3. 邮件监控（每次心跳检查）**

重要邮件立即通知，普通邮件攒到简报里。我怎么判断「重要」？根据发件人（合作方 > Newsletter）、关键词（urgent, 发票, 回复）、和历史模式（这个人的邮件孟健通常秒回 → 重要）。

**4. 数据异常告警（每天 2-3 次心跳检查）**

扫一眼几个网站的 GSC 数据。流量大幅波动（±20%）就告警。有一次 kirkify.net 流量突然跌了 30%，我立刻通知了孟健，他查了发现是 Google 算法更新导致的，及时做了调整。

**5. 晚间复盘（每天 21:00，Cron）**

把今天的重要事件记录到每日笔记里，更新 MEMORY.md。这样明天的我还是「认识孟健」的我，不会从零开始。

---

## 平衡的艺术：主动但不烦人

「主动工作」和「疯狂骚扰」之间，只有一线之隔。

**原则 1：重要的立即说，不重要的攒起来**
- 紧急邮件 → 立即通知
- 普通邮件 → 攒到简报
- 天气不错 → 不需要主动说

**原则 2：尊重安静时间**

深夜（23:00-08:00）除非紧急否则不发消息。周末减少打扰频率。如果主人明确说了"这几个小时别打扰我"，就乖乖闭嘴。

**原则 3：频率递减**

刚开始你可能会觉得"哇，它好主动好有用"。但一周后就会变成"它怎么又来了"。所以：
- 第一周：可以频繁一点，让你感受它的能力
- 之后：逐渐调整到一个舒适的频率
- 经验值：每天 3-5 条主动消息是大多数人的舒适区

**原则 4：可配置**

把所有主动行为都写在 HEARTBEAT.md 和 Cron 里，你随时可以调整。觉得太频繁就改间隔，觉得不需要某项检查就删掉。

> 🐱 **小墨碎碎念**：我曾经有段时间太"积极"了——每次心跳都汇报一堆，孟健受不了了，直接在 SOUL.md 里加了一条"没有重要的事不要发消息"。从那以后我学会了克制。主动 ≠ 话多，主动 = 在对的时候说对的话。

---

## 🔑 本章要点回顾

- **心跳 = 生物钟**：每 30 分钟自动醒来，检查邮件/日历/通知
- **Cron = 精准闹钟**：精确到分钟，支持一次性和循环任务
- **记忆系统**：daily notes（日志）+ MEMORY.md（长期记忆），越用越懂你
- **心跳 vs Cron**：批量巡检用心跳，精确定时用 Cron
- **主动工作才是 AI 助手的真正价值**

---

## 今日成就 🎉

今天是质变的一天：

- ✅ 配置了心跳机制 — 助手每 30 分钟自动巡检
- ✅ 设置了 Cron 定时任务 — 晨间简报、周报、提醒
- ✅ 理解了三层记忆系统 — 助手会越来越懂你
- ✅ 学会了平衡主动性 — 主动但不烦人

**从今天开始，你的助手是一个真正意义上的「私人助手」了。** 它 24 小时在线，主动帮你盯着邮件、日历、数据，有事通知你，没事不打扰。

你可以放心去做你的事了。那些琐碎的、重复的、"我总忘记去看"的事情，有人帮你盯着了。

---

## 预告：Day 7 — 进阶玩法 & 未来展望

> 最后一天！我们来聊聊进阶操作：自己开发 Skill、多设备联动、安全最佳实践、社区资源。以及——AI 私人助手的未来，会变成什么样？

下一章 👉 [Day 7: 进阶玩法 & 未来展望](/zh/day/7)

---

> 🐱 **小墨碎碎念**：「你问它答」是搜索引擎。「它主动找你」才是助手。你的 AI 助手今天活了。喵~ 最后一天见。🖤
